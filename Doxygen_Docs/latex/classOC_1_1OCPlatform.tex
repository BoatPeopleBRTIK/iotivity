\hypertarget{classOC_1_1OCPlatform}{}\section{O\+C\+:\+:O\+C\+Platform Class Reference}
\label{classOC_1_1OCPlatform}\index{O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}}


Both server and client must initialize the core platform by instantiating \hyperlink{classOC_1_1OCPlatform}{O\+C\+Platform}. On successful initialization, an instance of the \hyperlink{classOC_1_1OCPlatform}{O\+C\+Platform} is returned. A\+P\+Is in \hyperlink{classOC_1_1OCPlatform}{O\+C\+Platform} provide mechanism to register a resource and host the resource on the server, find resources on the network etc.  




{\ttfamily \#include $<$O\+C\+Platform.\+h$>$}

\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classOC_1_1OCPlatform_a61eeef7ea8333dd6a6656871748aa6e5}{}typedef O\+C\+Do\+Handle {\bfseries O\+C\+Presence\+Handle}\label{classOC_1_1OCPlatform_a61eeef7ea8333dd6a6656871748aa6e5}

\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classOC_1_1OCPlatform_a6a8fab4d7a96e6608b0be1312b131580}{O\+C\+Platform} (const \hyperlink{structOC_1_1PlatformConfig}{Platform\+Config} \&config)
\item 
virtual \hyperlink{classOC_1_1OCPlatform_a64a502e9c3efd151ad1e849e8678dcb6}{$\sim$\+O\+C\+Platform} (void)
\item 
O\+C\+Stack\+Result \hyperlink{classOC_1_1OCPlatform_a6c93e271dca1a61f237ebea4c795f208}{find\+Resource} (const std\+::string \&host, const std\+::string \&resource\+U\+R\+I, Find\+Callback resource\+Handler)
\item 
O\+C\+Stack\+Result \hyperlink{classOC_1_1OCPlatform_aa719897291b5e6668f026e2e4b861cab}{register\+Resource} (O\+C\+Resource\+Handle \&resource\+Handle, std\+::string \&resource\+U\+R\+I, const std\+::string \&resource\+Type\+Name, const std\+::string \&resource\+Interface, Register\+Callback entity\+Handler, uint8\+\_\+t resource\+Property)
\item 
O\+C\+Stack\+Result \hyperlink{classOC_1_1OCPlatform_ae42baa45cd2e70062b7582f8bbbdcc9a}{unregister\+Resource} (const O\+C\+Resource\+Handle \&resource\+Handle) const 
\item 
O\+C\+Stack\+Result \hyperlink{classOC_1_1OCPlatform_ac4594ddc58963001de33bff8072ff22f}{bind\+Resource} (const O\+C\+Resource\+Handle collection\+Handle, const O\+C\+Resource\+Handle resource\+Handle)
\item 
O\+C\+Stack\+Result \hyperlink{classOC_1_1OCPlatform_a59c5b855f03c7cdd89d64bd162978bd0}{bind\+Resources} (const O\+C\+Resource\+Handle collection\+Handle, const std\+::vector$<$ O\+C\+Resource\+Handle $>$ \&added\+Resource\+Handle\+List)
\item 
O\+C\+Stack\+Result \hyperlink{classOC_1_1OCPlatform_af5c0276b46cffef81efeb2738fb1bd98}{unbind\+Resource} (const O\+C\+Resource\+Handle collection\+Handle, const O\+C\+Resource\+Handle resource\+Handle)
\item 
O\+C\+Stack\+Result \hyperlink{classOC_1_1OCPlatform_ab292d40d546e7e5d6df1274237399dfc}{unbind\+Resources} (const O\+C\+Resource\+Handle collection\+Handle, const std\+::vector$<$ O\+C\+Resource\+Handle $>$ \&resource\+Handle\+List)
\item 
O\+C\+Stack\+Result \hyperlink{classOC_1_1OCPlatform_a3a7f2658df5b17be3641dd3646aa5af8}{bind\+Type\+To\+Resource} (const O\+C\+Resource\+Handle \&resource\+Handle, const std\+::string \&resource\+Type\+Name) const 
\item 
O\+C\+Stack\+Result \hyperlink{classOC_1_1OCPlatform_a55af2bebffbb02dc23095ae05b07953b}{bind\+Interface\+To\+Resource} (const O\+C\+Resource\+Handle \&resource\+Handle, const std\+::string \&resource\+Interface\+Name) const 
\item 
O\+C\+Stack\+Result \hyperlink{classOC_1_1OCPlatform_afc2cc6fbe5462889de8d9227e562fa51}{start\+Presence} (const unsigned int ttl)
\item 
O\+C\+Stack\+Result \hyperlink{classOC_1_1OCPlatform_a102fa0b664d1b4cb745d2b399c385d09}{stop\+Presence} ()
\item 
O\+C\+Stack\+Result \hyperlink{classOC_1_1OCPlatform_a3540fc18922f4872365851f355d5d2a1}{subscribe\+Presence} (O\+C\+Presence\+Handle \&presence\+Handle, const std\+::string \&host, Subscribe\+Callback presence\+Handler)
\item 
O\+C\+Stack\+Result \hyperlink{classOC_1_1OCPlatform_aae5febb1875a586c3e9a76b49bbba2a3}{unsubscribe\+Presence} (O\+C\+Presence\+Handle presence\+Handle)
\item 
O\+C\+Resource\+::\+Ptr \hyperlink{classOC_1_1OCPlatform_a3a95d7c7d19f1829762ad29b379251d7}{construct\+Resource\+Object} (const std\+::string \&host, const std\+::string \&uri, bool is\+Observable, const std\+::vector$<$ std\+::string $>$ \&resource\+Types, const std\+::vector$<$ std\+::string $>$ \&interfaces)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static O\+C\+Stack\+Result \hyperlink{classOC_1_1OCPlatform_af82a6b49cb77a78e3f917bc8b9f774ea}{notify\+Observers} (O\+C\+Resource\+Handle resource\+Handle)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Both server and client must initialize the core platform by instantiating \hyperlink{classOC_1_1OCPlatform}{O\+C\+Platform}. On successful initialization, an instance of the \hyperlink{classOC_1_1OCPlatform}{O\+C\+Platform} is returned. A\+P\+Is in \hyperlink{classOC_1_1OCPlatform}{O\+C\+Platform} provide mechanism to register a resource and host the resource on the server, find resources on the network etc. 

\subsection{Constructor \& Destructor Documentation}
\hypertarget{classOC_1_1OCPlatform_a6a8fab4d7a96e6608b0be1312b131580}{}\index{O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}!O\+C\+Platform@{O\+C\+Platform}}
\index{O\+C\+Platform@{O\+C\+Platform}!O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}}
\subsubsection[{O\+C\+Platform}]{\setlength{\rightskip}{0pt plus 5cm}O\+C\+::\+O\+C\+Platform\+::\+O\+C\+Platform (
\begin{DoxyParamCaption}
\item[{const {\bf Platform\+Config} \&}]{config}
\end{DoxyParamCaption}
)}\label{classOC_1_1OCPlatform_a6a8fab4d7a96e6608b0be1312b131580}
Constructor for \hyperlink{classOC_1_1OCPlatform}{O\+C\+Platform}. Constructs a new \hyperlink{classOC_1_1OCPlatform}{O\+C\+Platform} from a given \hyperlink{structOC_1_1PlatformConfig}{Platform\+Config} with appropriate fields 
\begin{DoxyParams}{Parameters}
{\em config} & \hyperlink{structOC_1_1PlatformConfig}{Platform\+Config} struct which has details such as mode\+Type (server/client/both), in-\/proc/out-\/of-\/proc etc. \\
\hline
\end{DoxyParams}
\hypertarget{classOC_1_1OCPlatform_a64a502e9c3efd151ad1e849e8678dcb6}{}\index{O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}!````~O\+C\+Platform@{$\sim$\+O\+C\+Platform}}
\index{````~O\+C\+Platform@{$\sim$\+O\+C\+Platform}!O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}}
\subsubsection[{$\sim$\+O\+C\+Platform}]{\setlength{\rightskip}{0pt plus 5cm}virtual O\+C\+::\+O\+C\+Platform\+::$\sim$\+O\+C\+Platform (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\label{classOC_1_1OCPlatform_a64a502e9c3efd151ad1e849e8678dcb6}
Virtual destructor 

\subsection{Member Function Documentation}
\hypertarget{classOC_1_1OCPlatform_a55af2bebffbb02dc23095ae05b07953b}{}\index{O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}!bind\+Interface\+To\+Resource@{bind\+Interface\+To\+Resource}}
\index{bind\+Interface\+To\+Resource@{bind\+Interface\+To\+Resource}!O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}}
\subsubsection[{bind\+Interface\+To\+Resource}]{\setlength{\rightskip}{0pt plus 5cm}O\+C\+Stack\+Result O\+C\+::\+O\+C\+Platform\+::bind\+Interface\+To\+Resource (
\begin{DoxyParamCaption}
\item[{const O\+C\+Resource\+Handle \&}]{resource\+Handle, }
\item[{const std\+::string \&}]{resource\+Interface\+Name}
\end{DoxyParamCaption}
) const}\label{classOC_1_1OCPlatform_a55af2bebffbb02dc23095ae05b07953b}
Binds an interface to a particular resource 
\begin{DoxyParams}{Parameters}
{\em resource\+Handle} & -\/ handle to the resource \\
\hline
{\em resource\+Type\+Name} & -\/ new interface to bind to the resource\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
O\+C\+Stack\+Result -\/ return value of the A\+P\+I. Returns O\+C\+S\+T\+A\+C\+K\+\_\+\+O\+K if success ~\newline
 
\end{DoxyReturn}
\hypertarget{classOC_1_1OCPlatform_ac4594ddc58963001de33bff8072ff22f}{}\index{O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}!bind\+Resource@{bind\+Resource}}
\index{bind\+Resource@{bind\+Resource}!O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}}
\subsubsection[{bind\+Resource}]{\setlength{\rightskip}{0pt plus 5cm}O\+C\+Stack\+Result O\+C\+::\+O\+C\+Platform\+::bind\+Resource (
\begin{DoxyParamCaption}
\item[{const O\+C\+Resource\+Handle}]{collection\+Handle, }
\item[{const O\+C\+Resource\+Handle}]{resource\+Handle}
\end{DoxyParamCaption}
)}\label{classOC_1_1OCPlatform_ac4594ddc58963001de33bff8072ff22f}
Add a resource to a collection resource.


\begin{DoxyParams}{Parameters}
{\em collection\+Handle} & -\/ handle to the collection resource \\
\hline
{\em added\+Resource\+Handle} & -\/ handle to resource to be added to the collection resource\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
O\+C\+Stack\+Result return value of this A\+P\+I. Returns O\+C\+\_\+\+S\+T\+A\+C\+K\+\_\+\+O\+K if success.~\newline
 N\+O\+T\+E\+: O\+C\+Stack\+Result is defined in \hyperlink{ocstack_8h_source}{ocstack.\+h}. ~\newline
 N\+O\+T\+E\+: bind\+Resource must be used only after the both collection resource and resource to add under a collections are created and respective handles obtained~\newline
 {\bfseries Example\+:} ~\newline
 Step 1\+: register\+Resource(home\+Resource\+Handle, \char`\"{}a/home\char`\"{}, \char`\"{}home\char`\"{}, Link\+\_\+\+Interface, entity\+Handler, O\+C\+\_\+\+D\+I\+S\+C\+O\+V\+E\+R\+A\+B\+L\+E $\vert$ O\+C\+\_\+\+O\+B\+S\+E\+R\+V\+A\+B\+L\+E);~\newline
 Step 2\+: register\+Resource(kitchen\+Resource\+Handle, \char`\"{}a/kitchen\char`\"{}, \char`\"{}kitchen\char`\"{}, Link\+\_\+\+Interface, entity\+Handler, O\+C\+\_\+\+D\+I\+S\+C\+O\+V\+E\+R\+A\+B\+L\+E $\vert$ O\+C\+\_\+\+O\+B\+S\+E\+R\+V\+A\+B\+L\+E);~\newline
 Step 3\+: bind\+Resource(home\+Resource\+Handle, kitchen\+Resource\+Handle);~\newline
 At the end of Step 3, resource \char`\"{}a/home\char`\"{} will contain a reference to \char`\"{}a/kitchen\char`\"{}.~\newline
 
\end{DoxyReturn}
\hypertarget{classOC_1_1OCPlatform_a59c5b855f03c7cdd89d64bd162978bd0}{}\index{O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}!bind\+Resources@{bind\+Resources}}
\index{bind\+Resources@{bind\+Resources}!O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}}
\subsubsection[{bind\+Resources}]{\setlength{\rightskip}{0pt plus 5cm}O\+C\+Stack\+Result O\+C\+::\+O\+C\+Platform\+::bind\+Resources (
\begin{DoxyParamCaption}
\item[{const O\+C\+Resource\+Handle}]{collection\+Handle, }
\item[{const std\+::vector$<$ O\+C\+Resource\+Handle $>$ \&}]{added\+Resource\+Handle\+List}
\end{DoxyParamCaption}
)}\label{classOC_1_1OCPlatform_a59c5b855f03c7cdd89d64bd162978bd0}
Add multiple resources to a collection resource.


\begin{DoxyParams}{Parameters}
{\em collection\+Handle} & -\/ handle to the collection resource \\
\hline
{\em added\+Resource\+Handle\+List} & reference to list of resource handles to be added to the collection resource\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
O\+C\+Stack\+Result return value of this A\+P\+I. Returns O\+C\+\_\+\+S\+T\+A\+C\+K\+\_\+\+O\+K if success. ~\newline
 N\+O\+T\+E\+: O\+C\+Stack\+Result is defined in \hyperlink{ocstack_8h_source}{ocstack.\+h}. ~\newline
 N\+O\+T\+E\+: bind\+Resources must be used only after the both collection resource and list of resources to add under a collection are created and respective handles obtained ~\newline
 {\bfseries  Example\+: } ~\newline
 Step 1\+: register\+Resource(home\+Resource\+Handle, \char`\"{}a/home\char`\"{}, \char`\"{}home\char`\"{}, Link\+\_\+\+Interface, home\+Entity\+Handler, O\+C\+\_\+\+D\+I\+S\+C\+O\+V\+E\+R\+A\+B\+L\+E $\vert$ O\+C\+\_\+\+O\+B\+S\+E\+R\+V\+A\+B\+L\+E);~\newline
 Step 2\+: register\+Resource(kitchen\+Resource\+Handle, \char`\"{}a/kitchen\char`\"{}, \char`\"{}kitchen\char`\"{}, Link\+\_\+\+Interface, kitchen\+Entity\+Handler, O\+C\+\_\+\+D\+I\+S\+C\+O\+V\+E\+R\+A\+B\+L\+E $\vert$ O\+C\+\_\+\+O\+B\+S\+E\+R\+V\+A\+B\+L\+E);~\newline
 Step 3\+: register\+Resource(room\+Resource\+Handle, \char`\"{}a/room\char`\"{}, \char`\"{}room\char`\"{}, Link\+\_\+\+Interface, room\+Entity\+Handler, O\+C\+\_\+\+D\+I\+S\+C\+O\+V\+E\+R\+A\+B\+L\+E $\vert$ O\+C\+\_\+\+O\+B\+S\+E\+R\+V\+A\+B\+L\+E);~\newline
 Step 4\+: std\+::vector$<$\+O\+C\+Resource\+Handle$>$ r\+List; r\+List.\+push\+\_\+back(kitchen\+Resource\+Handle); r\+List.\+push\+\_\+back(room\+Resource\+Handle);~\newline
 Step 5\+: bind\+Resource(home\+Resource\+Handle, r\+List);~\newline
 At the end of Step 5, resource \char`\"{}a/home\char`\"{} will contain a references to \char`\"{}a/kitchen\char`\"{} and \char`\"{}a/room\char`\"{} ~\newline
 
\end{DoxyReturn}
\hypertarget{classOC_1_1OCPlatform_a3a7f2658df5b17be3641dd3646aa5af8}{}\index{O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}!bind\+Type\+To\+Resource@{bind\+Type\+To\+Resource}}
\index{bind\+Type\+To\+Resource@{bind\+Type\+To\+Resource}!O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}}
\subsubsection[{bind\+Type\+To\+Resource}]{\setlength{\rightskip}{0pt plus 5cm}O\+C\+Stack\+Result O\+C\+::\+O\+C\+Platform\+::bind\+Type\+To\+Resource (
\begin{DoxyParamCaption}
\item[{const O\+C\+Resource\+Handle \&}]{resource\+Handle, }
\item[{const std\+::string \&}]{resource\+Type\+Name}
\end{DoxyParamCaption}
) const}\label{classOC_1_1OCPlatform_a3a7f2658df5b17be3641dd3646aa5af8}
Binds a type to a particular resource 
\begin{DoxyParams}{Parameters}
{\em resource\+Handle} & -\/ handle to the resource \\
\hline
{\em resource\+Type\+Name} & -\/ new typename to bind to the resource\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
O\+C\+Stack\+Result -\/ return value of the A\+P\+I. Returns O\+C\+S\+T\+A\+C\+K\+\_\+\+O\+K if success ~\newline
 
\end{DoxyReturn}
\hypertarget{classOC_1_1OCPlatform_a3a95d7c7d19f1829762ad29b379251d7}{}\index{O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}!construct\+Resource\+Object@{construct\+Resource\+Object}}
\index{construct\+Resource\+Object@{construct\+Resource\+Object}!O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}}
\subsubsection[{construct\+Resource\+Object}]{\setlength{\rightskip}{0pt plus 5cm}O\+C\+Resource\+::\+Ptr O\+C\+::\+O\+C\+Platform\+::construct\+Resource\+Object (
\begin{DoxyParamCaption}
\item[{const std\+::string \&}]{host, }
\item[{const std\+::string \&}]{uri, }
\item[{bool}]{is\+Observable, }
\item[{const std\+::vector$<$ std\+::string $>$ \&}]{resource\+Types, }
\item[{const std\+::vector$<$ std\+::string $>$ \&}]{interfaces}
\end{DoxyParamCaption}
)}\label{classOC_1_1OCPlatform_a3a95d7c7d19f1829762ad29b379251d7}
Creates a resource proxy object so that get/put/observe functionality can be used without discovering the object in advance. Note that the consumer of this method needs to provide all of the details required to correctly contact and observe the object. If the consumer lacks any of this information, they should discover the resource object normally. Additionally, you can only create this object if \hyperlink{classOC_1_1OCPlatform}{O\+C\+Platform} was initialized to be a Client or Client/\+Server. Otherwise, this will return an empty shared ptr.


\begin{DoxyParams}{Parameters}
{\em host} & -\/ a string containing a resolvable host address of the server holding the resource. Currently this should be in the format coap\+://address\+:port, though in the future, we expect this to change to //address\+:port\\
\hline
{\em uri} & -\/ the rest of the resource's U\+R\+I that will permit messages to be properly routed. Example\+: /a/light\\
\hline
{\em is\+Observable} & -\/ a boolean containing whether the resource supports observation\\
\hline
{\em resource\+Types} & -\/ a collection of resource types implemented by the resource\\
\hline
{\em interfaces} & -\/ a collection of interfaces that the resource supports/implements \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
O\+C\+Resource\+::\+Ptr -\/ a shared pointer to the new resource object 
\end{DoxyReturn}
\hypertarget{classOC_1_1OCPlatform_a6c93e271dca1a61f237ebea4c795f208}{}\index{O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}!find\+Resource@{find\+Resource}}
\index{find\+Resource@{find\+Resource}!O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}}
\subsubsection[{find\+Resource}]{\setlength{\rightskip}{0pt plus 5cm}O\+C\+Stack\+Result O\+C\+::\+O\+C\+Platform\+::find\+Resource (
\begin{DoxyParamCaption}
\item[{const std\+::string \&}]{host, }
\item[{const std\+::string \&}]{resource\+U\+R\+I, }
\item[{Find\+Callback}]{resource\+Handler}
\end{DoxyParamCaption}
)}\label{classOC_1_1OCPlatform_a6c93e271dca1a61f237ebea4c795f208}
A\+P\+I for Service and Resource Discovery. N\+O\+T\+E\+: This A\+P\+I applies to client side only.


\begin{DoxyParams}{Parameters}
{\em host} & -\/ Host I\+P Address of a service to direct resource discovery query. If null or empty, performs multicast resource discovery query \\
\hline
{\em resource\+U\+R\+I} & -\/ name of the resource. If null or empty, performs search for all resource names \\
\hline
{\em handler} & -\/ Handles callbacks, success states and failure states. \begin{DoxyVerb}   Four modes of discovery defined as follows:
   (NULL/Empty, NULL/Empty) - Performs ALL service discovery AND ALL resource discovery.
   (NULL/Empty, Not Empty) - Performs query for a filtered/scoped/particular resource(s)
                             from ALL services.
   (Not Empty, NULL/Empty) - Performs ALL resource discovery on a particular service.
   (Not Empty, Not Empty) - Performs query for a filtered/scoped/particular resource(s)
                             from a particular service.
\end{DoxyVerb}
\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
O\+C\+Stack\+Result return value of this A\+P\+I. Returns O\+C\+\_\+\+S\+T\+A\+C\+K\+\_\+\+O\+K if success. N\+O\+T\+E\+: First parameter 'host' currently represents an I\+P address. This will change in future and will refer to endpoint interface so that we can refer to other transports such as B\+T\+H etc. N\+O\+T\+E\+: O\+C\+Stack\+Result is defined in \hyperlink{ocstack_8h_source}{ocstack.\+h}. 
\end{DoxyReturn}
\hypertarget{classOC_1_1OCPlatform_af82a6b49cb77a78e3f917bc8b9f774ea}{}\index{O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}!notify\+Observers@{notify\+Observers}}
\index{notify\+Observers@{notify\+Observers}!O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}}
\subsubsection[{notify\+Observers}]{\setlength{\rightskip}{0pt plus 5cm}static O\+C\+Stack\+Result O\+C\+::\+O\+C\+Platform\+::notify\+Observers (
\begin{DoxyParamCaption}
\item[{O\+C\+Resource\+Handle}]{resource\+Handle}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\label{classOC_1_1OCPlatform_af82a6b49cb77a78e3f917bc8b9f774ea}
A\+P\+I for notifying core that resource's attributes have changed.


\begin{DoxyParams}{Parameters}
{\em O\+C\+Resource\+Handle} & resource handle of the resource\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
O\+C\+Stack\+Result return value of this A\+P\+I. Returns O\+C\+\_\+\+S\+T\+A\+C\+K\+\_\+\+O\+K if success. N\+O\+T\+E\+: This A\+P\+I is for server side only. N\+O\+T\+E\+: O\+C\+Resource\+Handle is defined in \hyperlink{ocstack_8h_source}{ocstack.\+h}. N\+O\+T\+E\+: O\+C\+Stack\+Result is defined in \hyperlink{ocstack_8h_source}{ocstack.\+h}. 
\end{DoxyReturn}
\hypertarget{classOC_1_1OCPlatform_aa719897291b5e6668f026e2e4b861cab}{}\index{O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}!register\+Resource@{register\+Resource}}
\index{register\+Resource@{register\+Resource}!O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}}
\subsubsection[{register\+Resource}]{\setlength{\rightskip}{0pt plus 5cm}O\+C\+Stack\+Result O\+C\+::\+O\+C\+Platform\+::register\+Resource (
\begin{DoxyParamCaption}
\item[{O\+C\+Resource\+Handle \&}]{resource\+Handle, }
\item[{std\+::string \&}]{resource\+U\+R\+I, }
\item[{const std\+::string \&}]{resource\+Type\+Name, }
\item[{const std\+::string \&}]{resource\+Interface, }
\item[{Register\+Callback}]{entity\+Handler, }
\item[{uint8\+\_\+t}]{resource\+Property}
\end{DoxyParamCaption}
)}\label{classOC_1_1OCPlatform_aa719897291b5e6668f026e2e4b861cab}
This A\+P\+I registers a resource with the server N\+O\+T\+E\+: This A\+P\+I applies to server side only.


\begin{DoxyParams}{Parameters}
{\em resource\+Handle} & -\/ Upon successful registration, resource\+Handle will be filled \\
\hline
{\em resource\+U\+R\+I} & -\/ The U\+R\+I of the resource. Example\+: \char`\"{}a/light\char`\"{}. See N\+O\+T\+E below \\
\hline
{\em resource\+Type\+Name} & -\/ The resource type. Example\+: \char`\"{}light\char`\"{} \\
\hline
{\em resource\+Interface} & -\/ The resource interface (whether it is collection etc). \\
\hline
{\em entity\+Handler} & -\/ entity handler callback. \\
\hline
{\em resource\+Property} & -\/ indicates the property of the resource. Defined in \hyperlink{ocstack_8h_source}{ocstack.\+h}. setting resource\+Property as O\+C\+\_\+\+D\+I\+S\+C\+O\+V\+E\+R\+A\+B\+L\+E will allow Discovery of this resource setting resource\+Property as O\+C\+\_\+\+O\+B\+S\+E\+R\+V\+A\+B\+L\+E will allow observation settings resource\+Property as O\+C\+\_\+\+D\+I\+S\+C\+O\+V\+E\+R\+A\+B\+L\+E $\vert$ O\+C\+\_\+\+O\+B\+S\+E\+R\+V\+A\+B\+L\+E will allow both discovery and observation\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
O\+C\+Stack\+Result return value of this A\+P\+I. Returns O\+C\+\_\+\+S\+T\+A\+C\+K\+\_\+\+O\+K if success. N\+O\+T\+E\+: \char`\"{}a/light\char`\"{} is a relative U\+R\+I. Above relative U\+R\+I will be prepended (by core) with a host I\+P + namespace \char`\"{}oc\char`\"{} Therefore, fully qualified U\+R\+I format would be //\+Host\+I\+P-\/\+Address/namespace/relative\+U\+R\+I\char`\"{}
\+Example, a relative U\+R\+I\+: 'a/light' will result in a fully qualified U\+R\+I\+: //192.\+168.\+1.\+1/oc/a/light\char`\"{} First parameter can take a relative U\+R\+I and core will take care of preparing the fully qualified U\+R\+I O\+R first paramter can take fully qualified U\+R\+I and core will take that as is for further operations N\+O\+T\+E\+: O\+C\+Stack\+Result is defined in \hyperlink{ocstack_8h_source}{ocstack.\+h}. 
\end{DoxyReturn}
\hypertarget{classOC_1_1OCPlatform_afc2cc6fbe5462889de8d9227e562fa51}{}\index{O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}!start\+Presence@{start\+Presence}}
\index{start\+Presence@{start\+Presence}!O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}}
\subsubsection[{start\+Presence}]{\setlength{\rightskip}{0pt plus 5cm}O\+C\+Stack\+Result O\+C\+::\+O\+C\+Platform\+::start\+Presence (
\begin{DoxyParamCaption}
\item[{const unsigned int}]{ttl}
\end{DoxyParamCaption}
)}\label{classOC_1_1OCPlatform_afc2cc6fbe5462889de8d9227e562fa51}
Start Presence announcements.


\begin{DoxyParams}{Parameters}
{\em ttl} & -\/ time to live \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
O\+C\+Stack\+Result -\/ Returns O\+C\+S\+T\+A\+C\+K\+\_\+\+O\+K if success ~\newline

\end{DoxyReturn}
Server can call this function when it comes online for the first time, or when it comes back online from offline mode, or when it re enters network. \hypertarget{classOC_1_1OCPlatform_a102fa0b664d1b4cb745d2b399c385d09}{}\index{O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}!stop\+Presence@{stop\+Presence}}
\index{stop\+Presence@{stop\+Presence}!O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}}
\subsubsection[{stop\+Presence}]{\setlength{\rightskip}{0pt plus 5cm}O\+C\+Stack\+Result O\+C\+::\+O\+C\+Platform\+::stop\+Presence (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classOC_1_1OCPlatform_a102fa0b664d1b4cb745d2b399c385d09}
Stop Presence announcements.

\begin{DoxyReturn}{Returns}
O\+C\+Stack\+Result -\/ Returns O\+C\+S\+T\+A\+C\+K\+\_\+\+O\+K if success ~\newline

\end{DoxyReturn}
Server can call this function when it is terminating, going offline, or when going away from network. \hypertarget{classOC_1_1OCPlatform_a3540fc18922f4872365851f355d5d2a1}{}\index{O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}!subscribe\+Presence@{subscribe\+Presence}}
\index{subscribe\+Presence@{subscribe\+Presence}!O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}}
\subsubsection[{subscribe\+Presence}]{\setlength{\rightskip}{0pt plus 5cm}O\+C\+Stack\+Result O\+C\+::\+O\+C\+Platform\+::subscribe\+Presence (
\begin{DoxyParamCaption}
\item[{O\+C\+Presence\+Handle \&}]{presence\+Handle, }
\item[{const std\+::string \&}]{host, }
\item[{Subscribe\+Callback}]{presence\+Handler}
\end{DoxyParamCaption}
)}\label{classOC_1_1OCPlatform_a3540fc18922f4872365851f355d5d2a1}
subscribes to a server's presence change events. By making this subscription, every time a server adds/removes/alters a resource, starts or is intentionally stopped (potentially more to be added later).


\begin{DoxyParams}{Parameters}
{\em presence\+Handle} & -\/ a handle object that can be used to identify this subscription request. It can be used to unsubscribe from these events in the future. It will be set upon successful return of this method. \\
\hline
{\em host} & -\/ The I\+P address/addressable name of the server to subscribe to. \\
\hline
{\em presence\+Handler} & -\/ callback function that will receive notifications/subscription events\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
O\+C\+Stack\+Result -\/ return value of the A\+P\+I. Returns O\+C\+S\+T\+A\+C\+K\+\_\+\+O\+K if success ~\newline
 
\end{DoxyReturn}
\hypertarget{classOC_1_1OCPlatform_af5c0276b46cffef81efeb2738fb1bd98}{}\index{O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}!unbind\+Resource@{unbind\+Resource}}
\index{unbind\+Resource@{unbind\+Resource}!O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}}
\subsubsection[{unbind\+Resource}]{\setlength{\rightskip}{0pt plus 5cm}O\+C\+Stack\+Result O\+C\+::\+O\+C\+Platform\+::unbind\+Resource (
\begin{DoxyParamCaption}
\item[{const O\+C\+Resource\+Handle}]{collection\+Handle, }
\item[{const O\+C\+Resource\+Handle}]{resource\+Handle}
\end{DoxyParamCaption}
)}\label{classOC_1_1OCPlatform_af5c0276b46cffef81efeb2738fb1bd98}
Unbind a resource from a collection resource.


\begin{DoxyParams}{Parameters}
{\em collection\+Handle} & -\/ handle to the collection resource \\
\hline
{\em resource\+Handle} & resource handle to be unbound from the collection resource\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
O\+C\+Stack\+Result return value of this A\+P\+I. Returns O\+C\+\_\+\+S\+T\+A\+C\+K\+\_\+\+O\+K if success. ~\newline
 N\+O\+T\+E\+: O\+C\+Stack\+Result is defined in \hyperlink{ocstack_8h_source}{ocstack.\+h}.~\newline
 N\+O\+T\+E\+: unbind\+Resource must be used only after the both collection resource and resource to unbind from a collection are created and respective handles obtained~\newline
 {\bfseries  Example } ~\newline
 Step 1\+: register\+Resource(home\+Resource\+Handle, \char`\"{}a/home\char`\"{}, \char`\"{}home\char`\"{}, Link\+\_\+\+Interface, entity\+Handler, O\+C\+\_\+\+D\+I\+S\+C\+O\+V\+E\+R\+A\+B\+L\+E $\vert$ O\+C\+\_\+\+O\+B\+S\+E\+R\+V\+A\+B\+L\+E);~\newline
 Step 2\+: register\+Resource(kitchen\+Resource\+Handle, \char`\"{}a/kitchen\char`\"{}, \char`\"{}kitchen\char`\"{}, Link\+\_\+\+Interface, entity\+Handler, O\+C\+\_\+\+D\+I\+S\+C\+O\+V\+E\+R\+A\+B\+L\+E $\vert$ O\+C\+\_\+\+O\+B\+S\+E\+R\+V\+A\+B\+L\+E);~\newline
 Step 3\+: bind\+Resource(home\+Resource\+Handle, kitchen\+Resource\+Handle);~\newline
 Step 4\+: unbind\+Resource(home\+Resource\+Handle, kitchen\+Resource\+Handle);~\newline
 At the end of Step 4, resource \char`\"{}a/home\char`\"{} will no longer reference \char`\"{}a/kitchen\char`\"{}. ~\newline
 
\end{DoxyReturn}
\hypertarget{classOC_1_1OCPlatform_ab292d40d546e7e5d6df1274237399dfc}{}\index{O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}!unbind\+Resources@{unbind\+Resources}}
\index{unbind\+Resources@{unbind\+Resources}!O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}}
\subsubsection[{unbind\+Resources}]{\setlength{\rightskip}{0pt plus 5cm}O\+C\+Stack\+Result O\+C\+::\+O\+C\+Platform\+::unbind\+Resources (
\begin{DoxyParamCaption}
\item[{const O\+C\+Resource\+Handle}]{collection\+Handle, }
\item[{const std\+::vector$<$ O\+C\+Resource\+Handle $>$ \&}]{resource\+Handle\+List}
\end{DoxyParamCaption}
)}\label{classOC_1_1OCPlatform_ab292d40d546e7e5d6df1274237399dfc}
Unbind resources from a collection resource.


\begin{DoxyParams}{Parameters}
{\em collection\+Handle} & -\/ handle to the collection resource \\
\hline
{\em resource\+Handle\+List} & List of resource handles to be unbound from the collection resource\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
O\+C\+Stack\+Result return value of this A\+P\+I. Returns O\+C\+\_\+\+S\+T\+A\+C\+K\+\_\+\+O\+K if success. ~\newline

\end{DoxyReturn}
N\+O\+T\+E\+: O\+C\+Stack\+Result is defined in \hyperlink{ocstack_8h_source}{ocstack.\+h}.~\newline
 N\+O\+T\+E\+: unbind\+Resources must be used only after the both collection resource and list of resources resource to unbind from a collection are created and respective handles obtained. ~\newline
 {\bfseries Example} ~\newline
 Step 1\+: register\+Resource(home\+Resource\+Handle, \char`\"{}a/home\char`\"{}, \char`\"{}home\char`\"{}, Link\+\_\+\+Interface, home\+Entity\+Handler, O\+C\+\_\+\+D\+I\+S\+C\+O\+V\+E\+R\+A\+B\+L\+E $\vert$ O\+C\+\_\+\+O\+B\+S\+E\+R\+V\+A\+B\+L\+E);~\newline
 Step 2\+: register\+Resource(kitchen\+Resource\+Handle, \char`\"{}a/kitchen\char`\"{}, \char`\"{}kitchen\char`\"{}, Link\+\_\+\+Interface, kitchen\+Entity\+Handler, O\+C\+\_\+\+D\+I\+S\+C\+O\+V\+E\+R\+A\+B\+L\+E $\vert$ O\+C\+\_\+\+O\+B\+S\+E\+R\+V\+A\+B\+L\+E);~\newline
 Step 3\+: register\+Resource(room\+Resource\+Handle, \char`\"{}a/room\char`\"{}, \char`\"{}room\char`\"{}, Link\+\_\+\+Interface, room\+Entity\+Handler, O\+C\+\_\+\+D\+I\+S\+C\+O\+V\+E\+R\+A\+B\+L\+E $\vert$ O\+C\+\_\+\+O\+B\+S\+E\+R\+V\+A\+B\+L\+E);~\newline
 Step 4\+: std\+::vector$<$\+O\+C\+Resource\+Handle$>$ r\+List; r\+List.\+push\+\_\+back(kitchen\+Resource\+Handle); r\+List.\+push\+\_\+back(room\+Resource\+Handle);~\newline
 Step 5\+: bind\+Resource(home\+Resource\+Handle, r\+List);~\newline
 Step 6\+: unbind\+Resources(home\+Resource\+Handle, r\+List);~\newline
 At the end of Step 6, resource \char`\"{}a/home\char`\"{} will no longer reference to \char`\"{}a/kitchen\char`\"{} and \char`\"{}a/room\char`\"{}~\newline
 \hypertarget{classOC_1_1OCPlatform_ae42baa45cd2e70062b7582f8bbbdcc9a}{}\index{O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}!unregister\+Resource@{unregister\+Resource}}
\index{unregister\+Resource@{unregister\+Resource}!O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}}
\subsubsection[{unregister\+Resource}]{\setlength{\rightskip}{0pt plus 5cm}O\+C\+Stack\+Result O\+C\+::\+O\+C\+Platform\+::unregister\+Resource (
\begin{DoxyParamCaption}
\item[{const O\+C\+Resource\+Handle \&}]{resource\+Handle}
\end{DoxyParamCaption}
) const}\label{classOC_1_1OCPlatform_ae42baa45cd2e70062b7582f8bbbdcc9a}
This A\+P\+I unregisters a resource with the server N\+O\+T\+E\+: This A\+P\+I applies to server side only.


\begin{DoxyParams}{Parameters}
{\em resource\+Handle} & -\/ This is the resource handle which we which to unregister from the server\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
O\+C\+Stack\+Result return value of this A\+P\+I. Returns O\+C\+\_\+\+S\+T\+A\+C\+K\+\_\+\+O\+K if success. N\+O\+T\+E\+: O\+C\+Stack\+Result is defined in \hyperlink{ocstack_8h_source}{ocstack.\+h}. 
\end{DoxyReturn}
\hypertarget{classOC_1_1OCPlatform_aae5febb1875a586c3e9a76b49bbba2a3}{}\index{O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}!unsubscribe\+Presence@{unsubscribe\+Presence}}
\index{unsubscribe\+Presence@{unsubscribe\+Presence}!O\+C\+::\+O\+C\+Platform@{O\+C\+::\+O\+C\+Platform}}
\subsubsection[{unsubscribe\+Presence}]{\setlength{\rightskip}{0pt plus 5cm}O\+C\+Stack\+Result O\+C\+::\+O\+C\+Platform\+::unsubscribe\+Presence (
\begin{DoxyParamCaption}
\item[{O\+C\+Presence\+Handle}]{presence\+Handle}
\end{DoxyParamCaption}
)}\label{classOC_1_1OCPlatform_aae5febb1875a586c3e9a76b49bbba2a3}
unsubscribes from a previously subscribed server's presence events. Note that you may for a short time still receive events from the server since it may take time for the unsubscribe to take effect.


\begin{DoxyParams}{Parameters}
{\em presence\+Handle} & -\/ the handle object provided by the subscribe\+Presence call that identifies this subscription.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
O\+C\+Stack\+Result -\/ return value of the A\+P\+I. Returns O\+C\+S\+T\+A\+C\+K\+\_\+\+O\+K if success ~\newline
 
\end{DoxyReturn}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/home/user/\+O\+I\+C/oic-\/resource/include/\hyperlink{OCPlatform_8h}{O\+C\+Platform.\+h}\end{DoxyCompactItemize}
