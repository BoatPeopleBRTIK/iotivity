\hypertarget{option_8h}{}\section{/home/user/\+O\+I\+C/oic-\/resource/csdk/libcoap-\/4.1.1/option.h File Reference}
\label{option_8h}\index{/home/user/\+O\+I\+C/oic-\/resource/csdk/libcoap-\/4.\+1.\+1/option.\+h@{/home/user/\+O\+I\+C/oic-\/resource/csdk/libcoap-\/4.\+1.\+1/option.\+h}}


helpers for handling options in Co\+A\+P P\+D\+Us  


{\ttfamily \#include \char`\"{}bits.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}pdu.\+h\char`\"{}}\\*
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structcoap__option__t}{coap\+\_\+option\+\_\+t}
\item 
struct \hyperlink{structcoap__opt__iterator__t}{coap\+\_\+opt\+\_\+iterator\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\hypertarget{option_8h_a4d26009eb308f3867747b0aa713a1755}{}\#define {\bfseries P\+C\+H\+A\+R}(p)~((\hyperlink{option_8h_a351867e79474c96130f738fcfbc120cc}{coap\+\_\+opt\+\_\+t} $\ast$)(p))\label{option_8h_a4d26009eb308f3867747b0aa713a1755}

\item 
\#define \hyperlink{option_8h_a099224ae51d2b85fb4cbeb5f07ce52f7}{C\+O\+A\+P\+\_\+\+O\+P\+T\+\_\+\+S\+I\+Z\+E}(opt)~\hyperlink{option_8h_a683c0121b4028a90f612809437aaa3d0}{coap\+\_\+opt\+\_\+size}(opt)
\item 
\#define \hyperlink{option_8h_a9131d506cda7061edb855e65d796d6da}{options\+\_\+next}(opt)
\item 
\#define \hyperlink{group__opt__filter_ga81f470e9cdcc258799e10f6ed8a3ce5e}{C\+O\+A\+P\+\_\+\+O\+P\+T\+\_\+\+A\+L\+L}~N\+U\+L\+L
\item 
\#define \hyperlink{group__opt__filter_ga40b8b72ce87dcece9185a0911ec2c588}{C\+O\+A\+P\+\_\+\+O\+P\+T\+\_\+\+D\+E\+L\+T\+A}(opt)~\hyperlink{group__opt__filter_gacec6795999a3ddaa56025a70abdc1d38}{coap\+\_\+opt\+\_\+delta}(opt)
\item 
\#define \hyperlink{group__opt__filter_ga2abe054935d45806d901a90ce5c4bd5d}{C\+O\+A\+P\+\_\+\+O\+P\+T\+\_\+\+S\+E\+T\+D\+E\+L\+T\+A}(opt,  val)~\hyperlink{group__opt__filter_ga8b601ead68a35f2bcca8c101b0b93c23}{coap\+\_\+opt\+\_\+encode}((opt), C\+O\+A\+P\+\_\+\+M\+A\+X\+\_\+\+P\+D\+U\+\_\+\+S\+I\+Z\+E, (val), N\+U\+L\+L, 0)
\item 
\#define \hyperlink{group__opt__filter_gad8982f51d2fb676d4b4be50487bb8590}{C\+O\+A\+P\+\_\+\+O\+P\+T\+\_\+\+L\+E\+N\+G\+T\+H}(opt)~\hyperlink{group__opt__filter_ga5616c72178d923fb02db863c87ee249f}{coap\+\_\+opt\+\_\+length}(opt)
\item 
\#define \hyperlink{group__opt__filter_gac4348d760bb312fdc2f108ee3e8303a4}{C\+O\+A\+P\+\_\+\+O\+P\+T\+\_\+\+V\+A\+L\+U\+E}(opt)~\hyperlink{group__opt__filter_ga0f80e7bb12dca927fdf5829804c84b0e}{coap\+\_\+opt\+\_\+value}((\hyperlink{option_8h_a351867e79474c96130f738fcfbc120cc}{coap\+\_\+opt\+\_\+t} $\ast$)opt)
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef unsigned char \hyperlink{option_8h_a351867e79474c96130f738fcfbc120cc}{coap\+\_\+opt\+\_\+t}
\item 
typedef unsigned char \hyperlink{group__opt__filter_gace614f18a4f0133a72096094c11c3b19}{coap\+\_\+opt\+\_\+filter\+\_\+t}\mbox{[}(C\+O\+A\+P\+\_\+\+M\+A\+X\+\_\+\+O\+P\+T $>$$>$ 3)+1\mbox{]}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
size\+\_\+t \hyperlink{option_8h_a11de99f50cc9f5a34fd9e4d121ecfd13}{coap\+\_\+opt\+\_\+parse} (const \hyperlink{option_8h_a351867e79474c96130f738fcfbc120cc}{coap\+\_\+opt\+\_\+t} $\ast$opt, size\+\_\+t length, \hyperlink{structcoap__option__t}{coap\+\_\+option\+\_\+t} $\ast$result)
\item 
size\+\_\+t \hyperlink{option_8h_a683c0121b4028a90f612809437aaa3d0}{coap\+\_\+opt\+\_\+size} (const \hyperlink{option_8h_a351867e79474c96130f738fcfbc120cc}{coap\+\_\+opt\+\_\+t} $\ast$opt)
\item 
\hyperlink{option_8h_a351867e79474c96130f738fcfbc120cc}{coap\+\_\+opt\+\_\+t} $\ast$ \hyperlink{option_8h_a7c2dec4ec740abfeafc695114602d1cd}{options\+\_\+start} (\hyperlink{structcoap__pdu__t}{coap\+\_\+pdu\+\_\+t} $\ast$pdu)
\item 
\hyperlink{structcoap__opt__iterator__t}{coap\+\_\+opt\+\_\+iterator\+\_\+t} $\ast$ \hyperlink{group__opt__filter_gacec8f143e7a4fe66d97f719f619d42b3}{coap\+\_\+option\+\_\+iterator\+\_\+init} (\hyperlink{structcoap__pdu__t}{coap\+\_\+pdu\+\_\+t} $\ast$pdu, \hyperlink{structcoap__opt__iterator__t}{coap\+\_\+opt\+\_\+iterator\+\_\+t} $\ast$oi, const \hyperlink{group__opt__filter_gace614f18a4f0133a72096094c11c3b19}{coap\+\_\+opt\+\_\+filter\+\_\+t} filter)
\item 
\hyperlink{option_8h_a351867e79474c96130f738fcfbc120cc}{coap\+\_\+opt\+\_\+t} $\ast$ \hyperlink{group__opt__filter_ga182fdeffe0b37e1ab0dc6ba8494abe4a}{coap\+\_\+option\+\_\+next} (\hyperlink{structcoap__opt__iterator__t}{coap\+\_\+opt\+\_\+iterator\+\_\+t} $\ast$oi)
\item 
\hyperlink{option_8h_a351867e79474c96130f738fcfbc120cc}{coap\+\_\+opt\+\_\+t} $\ast$ \hyperlink{group__opt__filter_gab2a1a3719d25b39377063c7cebac258d}{coap\+\_\+check\+\_\+option} (\hyperlink{structcoap__pdu__t}{coap\+\_\+pdu\+\_\+t} $\ast$pdu, unsigned char type, \hyperlink{structcoap__opt__iterator__t}{coap\+\_\+opt\+\_\+iterator\+\_\+t} $\ast$oi)
\item 
size\+\_\+t \hyperlink{group__opt__filter_ga6cc876020a0017266ffea98e949073dc}{coap\+\_\+opt\+\_\+setheader} (\hyperlink{option_8h_a351867e79474c96130f738fcfbc120cc}{coap\+\_\+opt\+\_\+t} $\ast$opt, size\+\_\+t maxlen, unsigned short delta, size\+\_\+t length)
\item 
size\+\_\+t \hyperlink{group__opt__filter_ga8b601ead68a35f2bcca8c101b0b93c23}{coap\+\_\+opt\+\_\+encode} (\hyperlink{option_8h_a351867e79474c96130f738fcfbc120cc}{coap\+\_\+opt\+\_\+t} $\ast$opt, size\+\_\+t n, unsigned short delta, const unsigned char $\ast$val, size\+\_\+t length)
\item 
unsigned short \hyperlink{group__opt__filter_gacec6795999a3ddaa56025a70abdc1d38}{coap\+\_\+opt\+\_\+delta} (const \hyperlink{option_8h_a351867e79474c96130f738fcfbc120cc}{coap\+\_\+opt\+\_\+t} $\ast$opt)
\item 
unsigned short \hyperlink{group__opt__filter_ga5616c72178d923fb02db863c87ee249f}{coap\+\_\+opt\+\_\+length} (const \hyperlink{option_8h_a351867e79474c96130f738fcfbc120cc}{coap\+\_\+opt\+\_\+t} $\ast$opt)
\item 
unsigned char $\ast$ \hyperlink{group__opt__filter_ga0f80e7bb12dca927fdf5829804c84b0e}{coap\+\_\+opt\+\_\+value} (\hyperlink{option_8h_a351867e79474c96130f738fcfbc120cc}{coap\+\_\+opt\+\_\+t} $\ast$opt)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
helpers for handling options in Co\+A\+P P\+D\+Us 



\subsection{Macro Definition Documentation}
\hypertarget{option_8h_a099224ae51d2b85fb4cbeb5f07ce52f7}{}\index{option.\+h@{option.\+h}!C\+O\+A\+P\+\_\+\+O\+P\+T\+\_\+\+S\+I\+Z\+E@{C\+O\+A\+P\+\_\+\+O\+P\+T\+\_\+\+S\+I\+Z\+E}}
\index{C\+O\+A\+P\+\_\+\+O\+P\+T\+\_\+\+S\+I\+Z\+E@{C\+O\+A\+P\+\_\+\+O\+P\+T\+\_\+\+S\+I\+Z\+E}!option.\+h@{option.\+h}}
\subsubsection[{C\+O\+A\+P\+\_\+\+O\+P\+T\+\_\+\+S\+I\+Z\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define C\+O\+A\+P\+\_\+\+O\+P\+T\+\_\+\+S\+I\+Z\+E(
\begin{DoxyParamCaption}
\item[{}]{opt}
\end{DoxyParamCaption}
)~{\bf coap\+\_\+opt\+\_\+size}(opt)}\label{option_8h_a099224ae51d2b85fb4cbeb5f07ce52f7}
\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000001}{Deprecated}]\{ Use \hyperlink{option_8h_a683c0121b4028a90f612809437aaa3d0}{coap\+\_\+opt\+\_\+size()} instead. \} \end{DoxyRefDesc}
\hypertarget{option_8h_a9131d506cda7061edb855e65d796d6da}{}\index{option.\+h@{option.\+h}!options\+\_\+next@{options\+\_\+next}}
\index{options\+\_\+next@{options\+\_\+next}!option.\+h@{option.\+h}}
\subsubsection[{options\+\_\+next}]{\setlength{\rightskip}{0pt plus 5cm}\#define options\+\_\+next(
\begin{DoxyParamCaption}
\item[{}]{opt}
\end{DoxyParamCaption}
)}\label{option_8h_a9131d506cda7061edb855e65d796d6da}
Interprets {\ttfamily opt} as pointer to a Co\+A\+P option and advances to the next byte past this option. 

\subsection{Typedef Documentation}
\hypertarget{option_8h_a351867e79474c96130f738fcfbc120cc}{}\index{option.\+h@{option.\+h}!coap\+\_\+opt\+\_\+t@{coap\+\_\+opt\+\_\+t}}
\index{coap\+\_\+opt\+\_\+t@{coap\+\_\+opt\+\_\+t}!option.\+h@{option.\+h}}
\subsubsection[{coap\+\_\+opt\+\_\+t}]{\setlength{\rightskip}{0pt plus 5cm}typedef unsigned char {\bf coap\+\_\+opt\+\_\+t}}\label{option_8h_a351867e79474c96130f738fcfbc120cc}
Use byte-\/oriented access methods here because sliding a complex struct coap\+\_\+opt\+\_\+t over the data buffer may cause bus error on certain platforms. 

\subsection{Function Documentation}
\hypertarget{option_8h_a11de99f50cc9f5a34fd9e4d121ecfd13}{}\index{option.\+h@{option.\+h}!coap\+\_\+opt\+\_\+parse@{coap\+\_\+opt\+\_\+parse}}
\index{coap\+\_\+opt\+\_\+parse@{coap\+\_\+opt\+\_\+parse}!option.\+h@{option.\+h}}
\subsubsection[{coap\+\_\+opt\+\_\+parse}]{\setlength{\rightskip}{0pt plus 5cm}size\+\_\+t coap\+\_\+opt\+\_\+parse (
\begin{DoxyParamCaption}
\item[{const {\bf coap\+\_\+opt\+\_\+t} $\ast$}]{opt, }
\item[{size\+\_\+t}]{length, }
\item[{{\bf coap\+\_\+option\+\_\+t} $\ast$}]{result}
\end{DoxyParamCaption}
)}\label{option_8h_a11de99f50cc9f5a34fd9e4d121ecfd13}
Parses the option pointed to by {\ttfamily opt} into {\ttfamily result}. This function returns the number of bytes that have been parsed, or {\ttfamily 0} on error. An error is signaled when illegal delta or length values are encountered or when option parsing would result in reading past the option (i.\+e. beyond opt + length).


\begin{DoxyParams}{Parameters}
{\em opt} & The beginning of the option to parse. \\
\hline
{\em length} & The maximum length of {\ttfamily opt}. \\
\hline
{\em result} & A pointer to the \hyperlink{structcoap__option__t}{coap\+\_\+option\+\_\+t} structure that is filled with actual values iff \hyperlink{option_8h_a11de99f50cc9f5a34fd9e4d121ecfd13}{coap\+\_\+opt\+\_\+parse()} $>$ 0. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The number of bytes parsed or {\ttfamily 0} on error. 
\end{DoxyReturn}
\hypertarget{option_8h_a683c0121b4028a90f612809437aaa3d0}{}\index{option.\+h@{option.\+h}!coap\+\_\+opt\+\_\+size@{coap\+\_\+opt\+\_\+size}}
\index{coap\+\_\+opt\+\_\+size@{coap\+\_\+opt\+\_\+size}!option.\+h@{option.\+h}}
\subsubsection[{coap\+\_\+opt\+\_\+size}]{\setlength{\rightskip}{0pt plus 5cm}size\+\_\+t coap\+\_\+opt\+\_\+size (
\begin{DoxyParamCaption}
\item[{const {\bf coap\+\_\+opt\+\_\+t} $\ast$}]{opt}
\end{DoxyParamCaption}
)}\label{option_8h_a683c0121b4028a90f612809437aaa3d0}
Returns the size of the given option, taking into account a possible option jump.


\begin{DoxyParams}{Parameters}
{\em opt} & An option jump or the beginning of the option. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The number of bytes between {\ttfamily opt} and the end of the option starting at {\ttfamily opt}. In case of an error, this function returns {\ttfamily 0} as options need at least one byte storage space. 
\end{DoxyReturn}
\hypertarget{option_8h_a7c2dec4ec740abfeafc695114602d1cd}{}\index{option.\+h@{option.\+h}!options\+\_\+start@{options\+\_\+start}}
\index{options\+\_\+start@{options\+\_\+start}!option.\+h@{option.\+h}}
\subsubsection[{options\+\_\+start}]{\setlength{\rightskip}{0pt plus 5cm}{\bf coap\+\_\+opt\+\_\+t}$\ast$ options\+\_\+start (
\begin{DoxyParamCaption}
\item[{{\bf coap\+\_\+pdu\+\_\+t} $\ast$}]{pdu}
\end{DoxyParamCaption}
)}\label{option_8h_a7c2dec4ec740abfeafc695114602d1cd}
Calculates the beginning of the P\+D\+U's option section.


\begin{DoxyParams}{Parameters}
{\em pdu} & The P\+D\+U containing the options. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to the first option if available, or {\ttfamily N\+U\+L\+L} otherwise. 
\end{DoxyReturn}
